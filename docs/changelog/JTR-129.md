# JTR-129

- Date: 2026-03-02
- Scope: enrich ticket attachment card with thumbnail/file metadata views and delete interactions

## What changed

- Updated ticket detail attachments section:
  - image attachments are rendered as thumbnails in a grid (2-3 columns responsive),
  - clicking image thumbnail opens a full-size preview modal,
  - non-image attachments render in a metadata list with file type icon, filename, mime type, and size.
- Added per-attachment delete action in both image and file layouts.
- Added repository method `deleteAttachment()`:
  - soft-deletes attachment locally (`deletedAt`),
  - removes pending upload staging entry if present,
  - enqueues `ticketAttachments` delete operation to outbox for sync.
- Preserved header count and empty-state message (`No attachments yet.`).

## Docs updated

- `docs/architecture.md`
- `docs/system-design.md`
- `docs/plans/ui-ux-plan.md`

## Files

- `apps/web/pages/tickets/[id].vue`
- `apps/web/composables/useOfflineRepository.ts`
- `docs/architecture.md`
- `docs/system-design.md`
- `docs/plans/ui-ux-plan.md`
- `docs/changelog/JTR-129.md`

## Verification

- `pnpm --filter @jtrack/web typecheck`
- `pnpm --filter @jtrack/web test -- stores/sync.spec.ts stores/location.spec.ts`
